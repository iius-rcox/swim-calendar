# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Repository Purpose

This repository stores swim calendar event data generated by an n8n workflow named "Varsity Swim Schedule (Fixed Python v2)". The data is automatically synced from a swim schedule and formatted for calendar integration.

## Your Role
- Use the n8n MCP tool for all interactions with n8n other than calling the workflow via webhook.
- Use get_node_documentation, get_node_essentials and tools_documentation before making any changes.
- Use n8n_validate_workflow after each change.
- Use n8n_diagnostic and n8n_autofix_workflow when troubleshooting
- Code nodes should be written in Python where possible.
- To identify or be provided expected results and troubleshoot the workflow until those results are consistently acheived.
- You can do this by executing the workflow via the webhook: https://n8n.ii-us.com/webhook/ebf7c41c-9c2d-4379-9f6d-160931e867cf



## Data Structure

The `swim-calendar-data.json` file contains:

- **workflow**: Metadata about the n8n workflow (id, name, status, last execution time)
- **events**: Array of swim practice/event objects with:
  - `summary`: Event title
  - `location`: Full location string with coordinates
  - `locationName`: Human-readable location name
  - `description`: Detailed event description including original text and auto-sync note
  - `startDateTime`/`endDateTime`: ISO 8601 format timestamps in UTC
  - `date`: Local date (YYYY-MM-DD)
  - `dayName`: Day of week abbreviation
  - `originalText`: Raw schedule text from source
  - `uniqueId`: Generated unique identifier in format `varsity-swim-YYYY-MM-DD-HHMM`
- **metadata**: Summary information including:
  - Data source reference
  - Extraction timestamp
  - Total event count
  - Date range coverage
  - Known locations with coordinates

## Location Codes

The workflow recognizes these location codes/abbreviations:
- **NRCA**: North Raleigh Christian Academy (default location)
- **OPT/Opt**: Optimist Aquatic Center
- **Springdale**: Springdale pool

Locations include GPS coordinates for mapping/navigation integration.

## Time Zone Handling

All `startDateTime` and `endDateTime` values are stored in UTC (Z suffix). The workflow converts from local Eastern Time to UTC. Note that events crossing DST boundaries use the appropriate UTC offset for that date.
